$(function(){$("#nav_home").addClass("active"),$("#nav_league").removeClass("active"),$("#nav_login").removeClass("active");const e=$("#list1");let t=$("#date_list");$(document).on("click",t=>{e.is(t.target)||0!==e.has(t.target).length||e.removeClass("visible")});let a=new Date,n=formatDate(a),o=document.getElementById("date_list").value;t.attr("value",n).html(o),getContent(),$("#refresh").on("click",function(){getContent(),vNotify.success({position:"positionOption.center",title:"Games Refreshed"})}),$("#forward_day").on("click",function(){o=document.getElementById("date_list").value,(a=new Date(o)).setDate(a.getDate()+2),n=formatDate(a),t.val(n),t.html(o),getContent()}),$("#back_day").on("click",function(){o=document.getElementById("date_list").value,(a=new Date(o)).setDate(a.getDate()),n=formatDate(a),t.val(n),t.html(o),getContent()});let l=0;$("#auto_refresh_checkbox").on("change",function(){$("#auto_refresh_checkbox:checked").length>0?(getContent(),l=setInterval(function(){getContent(),console.log("--content updated--")},6e4),vNotify.success({title:"Auto Refresh - On"})):0!==l&&(clearInterval(l),console.log("--content updating stopped--"),vNotify.error({title:"Auto Refresh - Off"}))}),$('input[type="checkbox"]').on("click",function(){let e=$(this).attr("value");$("."+e).toggle()}),t.on("change",function(){getContent()})});var currentTimezone=localStorage.timezoneCache||"ET";function updateCurrentTimezoneSpan(){currentTimezone=$("#timezone").find(":selected").val(),$("#currentTimezoneCache").text(currentTimezone)}function formatDate(e){let t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0");return String(e.getFullYear()).padStart(4,"0")+"-"+a+"-"+t}function getContent(){let e=$("#date_list").val();$.ajax({url:"/fetch_fixtures",method:"POST",headers:{Accept:"application/json; odata=verbose","Content-Type":"application/json; odata=verbose"},data:JSON.stringify({the_date:e}),processData:!1,success:function(e){let t=$("#refresh");appendContent(e.response),t.addClass("fa-spin");let a=t;setTimeout(function(){a.removeClass("fa-spin")},1e3),tableCheck(),listCheck()}})}function appendContent(e){let t=(e||[]).filter(e=>"England"===e.league.country&&"Premier League"===e.league.name),a=(e||[]).filter(e=>"England"===e.league.country&&"Championship"===e.league.name),n=(e||[]).filter(e=>"England"===e.league.country&&"League One"===e.league.name),o=(e||[]).filter(e=>"England"===e.league.country&&"FA Cup"===e.league.name),l=(e||[]).filter(e=>"England"===e.league.country&&"League Cup"===e.league.name),s=(e||[]).filter(e=>"Germany"===e.league.country&&"Bundesliga"===e.league.name),i=(e||[]).filter(e=>"Germany"===e.league.country&&"2. Bundesliga"===e.league.name),r=(e||[]).filter(e=>"Germany"===e.league.country&&"3. Liga"===e.league.name),u=(e||[]).filter(e=>"Germany"===e.league.country&&"DFB Pokal"===e.league.name),C=(e||[]).filter(e=>"Spain"===e.league.country&&"La Liga"===e.league.name),d=(e||[]).filter(e=>"Spain"===e.league.country&&"Segunda DivisiÃ³n"===e.league.name),m=(e||[]).filter(e=>"Spain"===e.league.country&&"Copa del Rey"===e.league.name),g=(e||[]).filter(e=>"Italy"===e.league.country&&"Serie A"===e.league.name),c=(e||[]).filter(e=>"Italy"===e.league.country&&"Serie B"===e.league.name),h=(e||[]).filter(e=>"Italy"===e.league.country&&"Coppa Italia"===e.league.name),p=(e||[]).filter(e=>"Netherlands"===e.league.country&&"Eredivisie"===e.league.name),f=(e||[]).filter(e=>"Netherlands"===e.league.country&&"KNVB Beker"===e.league.name),y=(e||[]).filter(e=>"France"===e.league.country&&"Ligue 1"===e.league.name),L=(e||[]).filter(e=>"France"===e.league.country&&"Coupe De France"===e.league.name),v=(e||[]).filter(e=>"Portugal"===e.league.country&&"Primeira Liga"===e.league.name),b=(e||[]).filter(e=>"World"===e.league.country&&"Euro Championship"===e.league.name),_=(e||[]).filter(e=>"World"===e.league.country&&"UEFA Nations League"===e.league.name),x=(e||[]).filter(e=>"World"===e.league.country&&"UEFA Champions League"===e.league.name),k=(e||[]).filter(e=>"World"===e.league.country&&"UEFA Europa League"===e.league.name),E=(e||[]).filter(e=>"World"===e.league.country&&"Friendlies"===e.league.name),S=(e||[]).filter(e=>"World"===e.league.country&&"World Cup"===e.league.name),A=(e||[]).filter(e=>"World"===e.league.country&&"World Cup - Qualification Europe"===e.league.name),W=(e||[]).filter(e=>"World"===e.league.country&&"World Cup - Qualification Asia"===e.league.name),w=(e||[]).filter(e=>"World"===e.league.country&&"World Cup - Qualification South America"===e.league.name),F=(e||[]).filter(e=>"World"===e.league.country&&"World Cup - Qualification Africa"===e.league.name),N=(e||[]).filter(e=>"World"===e.league.country&&"World Cup - Qualification CONCACAF"===e.league.name),D=getContent_item("UEFA European Championship",b);$("#Euro").html(D);let B=getContent_item("Friendlies",E);$("#Friendlies").html(B);let I=getContent_item("World Cup",S);$("#WorldCup").html(I);let T=getContent_item("World Cup Qualification - Europe",A);$("#WorldCupQualEuro").html(T);let P=getContent_item("World Cup Qualification - North America",N);$("#WorldCupQualNA").html(P);let Q=getContent_item("World Cup Qualification - South America",w);$("#WorldCupQualSA").html(Q);let G=getContent_item("World Cup Qualification - Africa",F);$("#WorldCupQualAfrica").html(G);let H=getContent_item("World Cup Qualification - Asia",W);$("#WorldCupQualAsia").html(H);let z=getContent_item("Nations League",_);$("#NationsLeague").html(z);let O=getContent_item("Champions League",x);$("#ChampionsLeague").html(O);let R=getContent_item("Europa League",k);$("#EuropaLeague").html(R);let V=getContent_item("England - Premier League",t);$("#England_PremierLeague").html(V);let U=getContent_item("England - Championship",a);$("#England_Championship").html(U);let K=getContent_item("England - League One",n);$("#England_LeagueOne").html(K);let j=getContent_item("England - FA Cup",o);$("#England_FACup").html(j);let M=getContent_item("England - League Cup",l);$("#England_LeagueCup").html(M);let J=getContent_item("Germany - Bundesliga",s);$("#Germany_Bundesliga").html(J);let Y=getContent_item("Germany - Bundesliga 2",i);$("#Germany_Bundesliga2").html(Y);let q=getContent_item("Germany - Liga 3",r);$("#Germany_Liga3").html(q);let X=getContent_item("Germany - DFB Pokal",u);$("#Germany_DFBPokal").html(X);let Z=getContent_item("Spain - La Liga",C);$("#Spain_LaLiga").html(Z);let ee=getContent_item("Spain - La Liga 2",d);$("#Spain_LaLiga2").html(ee);let te=getContent_item("Spain - Copa del Rey",m);$("#Spain_CopaDelRey").html(te);let ae=getContent_item("Italy - Serie A",g);$("#Italy_SerieA").html(ae);let ne=getContent_item("Italy - Serie B",c);$("#Italy_SerieB").html(ne);let oe=getContent_item("Italy - Coppa Italia",h);$("#Italy_CoppaItalia").html(oe);let le=getContent_item("Netherlands - Eredivisie",p);$("#Netherlands_Eredivisie").html(le);let se=getContent_item("Netherlands - KNVB Cup",f);$("#Netherlands_KNVBCup").html(se);let ie=getContent_item("France - Ligue 1",y);$("#France_Ligue1").html(ie);let re=getContent_item("France - Coupe De France",L);$("#France_CoupeDeFrance").html(re);let ue=getContent_item("Portugal - Primeira Liga",v);$("#Portugal_PrimeiraLiga").html(ue)}$("#currentTimezoneCache").text(currentTimezone);let formattedDate=(e,t)=>{let a=new Date(1e3*e),n=String(a).slice(15,21),o=Number(n.slice(1,3)),l=n.slice(4);return 0===l&&(l="00"),"PT"===t?o-=3:"MT"===t?o-=2:"CT"===t&&(o-=1),n=`${o}:${l}`};function getTimezoneUpdate(){localStorage.timezoneCache=$("#timezone").find(":selected").val(),getContent()}function getContent_item(e,t){if(0===t.length)return null;let a="<br/><h5>"+e+"</h5><hr style='height:2px;border-width:0;color:gray;background-color:gray'><table id='leagueTables' class='table table-secondary table-bordered' style='width:100%;'>";return t.forEach(e=>{let t,n=null==e.goals.home?"?":e.goals.home,o=null==e.goals.away?"?":e.goals.away,l=e.fixture.timestamp,s=localStorage.timezoneCache||$("#timezone").find(":selected").val();if("NS"===e.fixture.status.short)t=formattedDate(l,s)+"&nbsp;";else if("FT"===e.fixture.status.short)t=e.fixture.status.short;else if("AET"===e.fixture.status.short)t=e.fixture.status.short;else if("PEN"===e.fixture.status.short){let a=e.score.penalty.home,l=e.score.penalty.away;t=e.fixture.status.short,n=null==e.goals.home?"?":e.goals.home,o=null==e.goals.away?"?":e.goals.away+"<br>("+a+" - "+l+")"}else t="SUSP"===e.fixture.status.short?"Suspended":"TBD"===e.fixture.status.short?e.fixture.status.short:"CANC"===e.fixture.status.short?"Cancelled":"WO"===e.fixture.status.short?"Cancelled":"INT"===e.fixture.status.short?"Interrupted":"ABD"===e.fixture.status.short?"Abandoned":"BT"===e.fixture.status.short?"Break&nbsp;<span class='blink_me'>(LIVE)</span>":"HT"===e.fixture.status.short?e.fixture.status.short+"&nbsp;<span class='blink_me'>(LIVE)</span>":"PST"===e.fixture.status.short?"Postponed":e.fixture.status.short+"&nbsp;-&nbsp;"+e.fixture.status.elapsed+"'&nbsp;<span class='blink_me'>(LIVE)</span>";"CANC"===e.fixture.status.short?a+="<tr><td style='width:20%;'>"+t+"</td><td style='width:32.5%;text-align:right;'>"+e.teams.home.name+"&nbsp;&nbsp;&nbsp;<img width='30' height='30' src='"+e.teams.home.logo+"'></td><td style='width:15%'>0 - 0</td><td style='width:32.5%;text-align:left;'><img width='30' height='30' src='"+e.teams.away.logo+"'>&nbsp;&nbsp;&nbsp;"+e.teams.away.name+"</td></tr>":a+="<tr><td style='width:20%;'>"+t+"</td><td style='width:32.5%;text-align:right;'>"+e.teams.home.name+"&nbsp;&nbsp;&nbsp;<img width='30' height='30' src='"+e.teams.home.logo+"'></td><td style='width:15%'>"+n+" - "+o+"</td><td style='width:32.5%;text-align:left;'><img width='30' height='30' src='"+e.teams.away.logo+"'>&nbsp;&nbsp;&nbsp;"+e.teams.away.name+"</td></tr>"}),a+="</td></tr></table>"}function tableCheck(){0===$("#leagueTables").length?$("#no_games").html("No games available on selected date! <i class='far fa-frown'></i>"):$("#no_games").html("")}function listCheck(){if($("#Friendlies").is(":empty")){$("#friendliesCheckbox").addClass("noContentList");var e=!0}else{$("#friendliesCheckbox").removeClass("noContentList");e=!1}if($("#WorldCup").is(":empty")){$("#worldcupCheckbox").addClass("noContentList")}else{$("#worldcupCheckbox").removeClass("noContentList")}if($("#WorldCupQualAfrica").is(":empty")&&$("#WorldCupQualEuro").is(":empty")&&$("#WorldCupQualAsia").is(":empty")&&$("#WorldCupQualSA").is(":empty")&&$("#WorldCupQualNA").is(":empty")){$("#worldcupCheckboxQual").addClass("noContentList");var t=!0}else{$("#worldcupCheckboxQual").removeClass("noContentList");t=!1}if(e&&t){$("#worldHeader").addClass("noContentList");var a=!0}else{$("#worldHeader").removeClass("noContentList");a=!1}if($("#Euro").is(":empty")){$("#euroCheckbox").addClass("noContentList");var n=!0}else{$("#euroCheckbox").removeClass("noContentList");n=!1}if($("#NationsLeague").is(":empty")){$("#nationsCheckbox").addClass("noContentList");var o=!0}else{$("#nationsCheckbox").removeClass("noContentList");o=!1}if($("#ChampionsLeague").is(":empty")){$("#championsCheckbox").addClass("noContentList");var l=!0}else{$("#championsCheckbox").removeClass("noContentList");l=!1}if($("#EuropaLeague").is(":empty")){$("#europaCheckbox").addClass("noContentList");var s=!0}else{$("#europaCheckbox").removeClass("noContentList");s=!1}if(n&&o&&l&&s?$("#europeHeader").addClass("noContentList"):$("#europeHeader").removeClass("noContentList"),$("#England_PremierLeague").is(":empty")){$("#premierCheckbox").addClass("noContentList");var i=!0}else{$("#premierCheckbox").removeClass("noContentList");i=!1}if($("#England_Championship").is(":empty")){$("#championshipCheckbox").addClass("noContentList");var r=!0}else{$("#championshipCheckbox").removeClass("noContentList");r=!1}if($("#England_LeagueOne").is(":empty")){$("#leagueoneCheckbox").addClass("noContentList");var u=!0}else{$("#leagueoneCheckbox").removeClass("noContentList");u=!1}if($("#England_FACup").is(":empty")){$("#facupCheckbox").addClass("noContentList");var C=!0}else{$("#facupCheckbox").removeClass("noContentList");C=!1}if($("#England_LeagueCup").is(":empty")){$("#leaguecupCheckbox").addClass("noContentList");var d=!0}else{$("#leaguecupCheckbox").removeClass("noContentList");d=!1}if(i&&r&&u&&C&&d){$("#englandHeader").addClass("noContentList");var m=!0}else{$("#englandHeader").removeClass("noContentList");m=!1}if($("#Germany_Bundesliga").is(":empty")){$("#bundesligaCheckbox").addClass("noContentList");var g=!0}else{$("#bundesligaCheckbox").removeClass("noContentList");g=!1}if($("#Germany_Bundesliga2").is(":empty")){$("#bundesliga2Checkbox").addClass("noContentList");var c=!0}else{$("#bundesliga2Checkbox").removeClass("noContentList");c=!1}if($("#Germany_Liga3").is(":empty")){$("#liga3Checkbox").addClass("noContentList");var h=!0}else{$("#liga3Checkbox").removeClass("noContentList");h=!1}if($("#Germany_DFBPokal").is(":empty")){$("#dfbpokalCheckbox").addClass("noContentList");var p=!0}else{$("#dfbpokalCheckbox").removeClass("noContentList");p=!1}if(g&&c&&h&&p){$("#germanyHeader").addClass("noContentList");var f=!0}else{$("#germanyHeader").removeClass("noContentList");f=!1}if($("#Spain_LaLiga").is(":empty")){$("#laligaCheckbox").addClass("noContentList");var y=!0}else{$("#laligaCheckbox").removeClass("noContentList");y=!1}if($("#Spain_LaLiga2").is(":empty")){$("#laliga2Checkbox").addClass("noContentList");var L=!0}else{$("#laliga2Checkbox").removeClass("noContentList");L=!1}if($("#Spain_CopaDelRey").is(":empty")){$("#copadelreyCheckbox").addClass("noContentList");var v=!0}else{$("#copadelreyCheckbox").removeClass("noContentList");v=!1}if(y&&L&&v){$("#spainHeader").addClass("noContentList");var b=!0}else{$("#spainHeader").removeClass("noContentList");b=!1}if($("#Italy_SerieA").is(":empty")){$("#serieaCheckbox").addClass("noContentList");var _=!0}else{$("#serieaCheckbox").removeClass("noContentList");_=!1}if($("#Italy_SerieB").is(":empty")){$("#seriebCheckbox").addClass("noContentList");var x=!0}else{$("#seriebCheckbox").removeClass("noContentList");x=!1}if($("#Italy_CoppaItalia").is(":empty")){$("#coppaitaliaCheckbox").addClass("noContentList");var k=!0}else{$("#coppaitaliaCheckbox").removeClass("noContentList");k=!1}if(_&&x&&k){$("#italyHeader").addClass("noContentList");var E=!0}else{$("#italyHeader").removeClass("noContentList");E=!1}if($("#Netherlands_Eredivisie").is(":empty")){$("#erediviseCheckbox").addClass("noContentList");var S=!0}else{$("#erediviseCheckbox").removeClass("noContentList");S=!1}if($("#Netherlands_KNVBCup").is(":empty")){$("#knvbcupCheckbox").addClass("noContentList");var A=!0}else{$("#knvbcupCheckbox").removeClass("noContentList");A=!1}if(S&&A){$("#netherlandsHeader").addClass("noContentList");var W=!0}else{$("#netherlandsHeader").removeClass("noContentList");W=!1}if($("#France_Ligue1").is(":empty")){$("#ligue1Checkbox").addClass("noContentList");var w=!0}else{$("#ligue1Checkbox").removeClass("noContentList");w=!1}if($("#France_CoupeDeFrance").is(":empty")){$("#coupedefranceCheckbox").addClass("noContentList");var F=!0}else{$("#coupedefranceCheckbox").removeClass("noContentList");F=!1}if(w&&F){$("#franceHeader").addClass("noContentList");var N=!0}else{$("#franceHeader").removeClass("noContentList");N=!1}if($("#Portugal_PrimeiraLiga").is(":empty")){$("#primeiraligaCheckbox").addClass("noContentList");var D=!0}else{$("#primeiraligaCheckbox").removeClass("noContentList");D=!1}if(D){$("#portugalHeader").addClass("noContentList");var B=!0}else{$("#portugalHeader").removeClass("noContentList");B=!1}a&&n&&m&&f&&b&&W&&E&&N&&B?$("#noGamesAvailable").removeClass("noGamesAvailable"):$("#noGamesAvailable").addClass("noGamesAvailable")}$("#refresh").on("click",function(){$(this).addClass("fa-spin");var e=$(this);setTimeout(function(){e.removeClass("fa-spin")},1e3),getContent()});