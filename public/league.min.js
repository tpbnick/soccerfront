let countryx="England",leaguex="Premier League";$(function(){$("#nav_league").addClass("active"),$("#nav_home").removeClass("active"),$("#nav_login").removeClass("active");let e=$("#season").val();getContent("England","Premier League",e),$("#league").on("click",function(){null!=e&&("ChampionsLeague"===this.value&&(countryx="World",leaguex="UEFA Champions League",e=$("#season").val()),"EuropaLeague"===this.value&&(countryx="World",leaguex="UEFA Europa League",e=$("#season").val()),"PremierLeague"===this.value&&(countryx="England",leaguex="Premier League",e=$("#season").val()),"Championship"===this.value&&(countryx="England",leaguex="Championship",e=$("#season").val()),"LeagueOne"===this.value&&(countryx="England",leaguex="League One",e=$("#season").val()),"Bundesliga"===this.value&&(countryx="Germany",leaguex="Bundesliga 1",e=$("#season").val()),"Bundesliga2"===this.value&&(countryx="Germany",leaguex="Bundesliga 2",e=$("#season").val()),"3Liga"===this.value&&(countryx="Germany",leaguex="Liga 3",e=$("#season").val()),"LaLiga2"===this.value&&(countryx="Spain",leaguex="Segunda Division",e=$("#season").val()),"LaLiga"===this.value&&(countryx="Spain",leaguex="La Liga",e=$("#season").val()),"SerieA"===this.value&&(countryx="Italy",leaguex="Serie A",e=$("#season").val()),"SerieB"===this.value&&(countryx="Italy",leaguex="Serie B",e=$("#season").val()),"Eredivise"===this.value&&(countryx="Netherlands",leaguex="Eredivisie",e=$("#season").val()),"Ligue1"===this.value&&(countryx="France",leaguex="Ligue 1",e=$("#season").val()),"PrimeiraLiga"===this.value&&(countryx="Portugal",leaguex="Primeira Liga",e=$("#season").val()))})});async function getContent(e,a,t){var s=t,l=e;let i=[];await $.ajax({url:"/fetch_leagues",method:"POST",headers:{Accept:"application/json; odata=verbose","Content-Type":"application/json; odata=verbose"},data:JSON.stringify({the_country:l,the_yyyy:s}),processData:!1,success:function(e){0==e.api.results?$.ajax({url:"fetch_leagues_else",method:"POST",headers:{Accept:"application/json; odata=verbose","Content-Type":"application/json; odata=verbose"},data:JSON.stringify({the_country:l,the_yyyy:s}),processData:!1,success:function(e){0!==e.api.results&&(i=e.api.leagues)}}):i=e.api.leagues}});var n,o=i.filter(e=>e.name==a),u=[];o!==[]&&(n=o[0].league_id,e=Number(t)+1,e="<img width='50' height='50' src='"+o[0].logo+"'>&nbsp;&nbsp;&nbsp;<div><h6>"+o[0].country.toUpperCase()+"</h6><div class='leagueYear'><h4>"+o[0].name.toUpperCase()+"</h4><span> ("+t+"-"+e+")</span></div></div>",$("#league_logo").html(e),$.ajax({url:"fetch_league_table",method:"POST",headers:{Accept:"application/json; odata=verbose","Content-Type":"application/json; odata=verbose"},data:JSON.stringify({the_league_id_ex:n}),processData:!1,success:function(e){var a;0!==e.api.results&&(u=e.api.standings[0],a=" <p style='font-weight:bold;'>"+o[0].name.toUpperCase()+"</p><table style='width:100%;font-size:12px;' class='table'><tr><th style='width:5%'>#</th><th style='width:50%;text-align:left;'>Team</th><th style='width:5%'>GP</th><th style='width:5%'>W</th><th style='width:5%'>D</th><th style='width:5%'>L</th><th style='width:9%'>+/-</th><th style='width:6%'>GD</th><th style='width:6%'>PTS</th></tr>",u.forEach(e=>{a+="<tr><td style='width:5%'>"+e.rank+"</td><td style='width:50%;text-align:left;'><img class='Image TeamIcon' width='22' height='22' src='"+e.logo+"'>&nbsp;&nbsp;&nbsp;"+e.teamName+"</td><td style='width:5%'>"+e.all.matchsPlayed+"</td><td style='width:5%'>"+e.all.win+"</td><td style='width:5%'>"+e.all.draw+"</td><td style='width:5%'>"+e.all.lose+"</td><td style='width:9%'>"+e.all.goalsFor+" - "+e.all.goalsAgainst+"</td><td style='width:6%'>"+e.goalsDiff+"</td><td style='width:6%'>"+e.points+"</td></tr>"}),a+="</table>",$("#league_table").html(a))}}))}$("#refresh").on("click",function(){var e=$("#season").val();getContent(countryx,leaguex,e),$(this).addClass("fa-spin");let a=$(this);setTimeout(function(){a.removeClass("fa-spin")},1e3)});